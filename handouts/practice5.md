# Practice 5 ASTの生成4 関数の呼び出し

そろそろ疲れてきましたか？パーサーの実装もこれで最後です。

ここでは関数呼び出しをパースします。関数呼び出しは`CallExpressionNode`で表現されます。

```swift
doSomething(a: 10, b: 10 + 20)
```

## 5-1〜5-3. 関数呼び出しのパース

今回の実装は、Practice 2で実装した`parseIdentifierExpression` の拡張で済むはずです。

具体的には、今までは`identifier`が現れたら、全て`VariableNode`として扱っていましたが、直後に`(`(`.leftParen`)が続いたらならば、`CallExpressionNode`として扱うことにします。


無事にテストが通っても安心しないで。
Practice 2のテストケースが依然動くことも確認してください。

### 引数のパース

引数のパースは関数宣言の時と似ています。

大きな違いはラベルのあとに式を渡せることです。そのため`CallExpressionNode.Argument`はさらに`Node`を持つ構造になっています。

これも前回の関数本体のパースと同様で、`parseExpression`に任せることができます。

Practice 3で苦労した甲斐がありましたね。

## 応用課題

またまた応用課題を用意しました。
同様にラベルの扱いです。ラベルがない場合の関数呼び出しをパースしてみましょう。

```swift
doSomething(a, 10)
```

こちらも実際にやってみると少し複雑です。

Practice 4の応用課題終了を前提にしています。宣言できなければ呼び出せませんからね！
